# Copyright (C) 2025  Mateo Cedillo <angelitomateocedillo@gmail.com>

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 2.1 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.

# You should have received a copy of the GNU Lesser General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.

source include/textproc/romans.foma

# For number:
define SpellDigit 
%0:cero | 
1:uno | 
2:dos | 
3:tres | 
4:cuatro | 
5:cinco | 
6:seis | 
7:siete | 
8:ocho | 
9:nueve ; 
define MaleOrdChar %º ; 
define FemaleOrdChar %ª ; 
define OrdChar MaleOrdChar | FemaleOrdChar ; 

define Unit SpellDigit - [%0:[?+]] ; 
# Numbers and tokenization:

define Digit SpellDigit.u ;
define NZDigit Digit - %0 ; 
define UnformattedNumber %0 | [NZDigit Digit*] ; 
define FormattedNumber .# NZDigit Digit^<3 [%. Digit^3]^{1,4} .# ; 
define Decimal [FormattedNumber|UnformattedNumber] %, Digit+; 
define ForeignDecimal  [[NZDigit Digit*] | %0] %. [Digit^{1,2} | Digit^>3];
define VersionFormat [NZDigit Digit^<4|%0] [%. Digit^{1,2}]^3 Digit^<4 ; 
define Ordinal [FormattedNumber|UnformattedNumber] (OrdChar) ; 
define Number UnformattedNumber|FormattedNumber | Decimal | ForeignDecimal | Ordinal | VersionFormat | ESRomanNumeral ; 
