# Copyright (C) 2024-2025  Mateo Cedillo <angelitomateocedillo@gmail.com>

# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation, either version 2.1 of the License, or
# (at your option) any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Lesser General Public License for more details.

# You should have received a copy of the GNU Lesser General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.

define acute [a0 gh u1 dh o0] ; 
define graav [g r a1 bh e0] ; 
define circumflex [c i0 r k u0 m f l e1 x o0] ; 
define umlaut [dh j e1 r e0 s i0 s] ; 
define tilda [t i1 l d e0] ; 

define LetterLseq [
a:a1 |
á:[a0 acute] | 
ä:[a0 umlaut] | 
â:[a0 circumflex] | 
à:[a0 graav] | 
ã:[a0 tilda] | 
b:[b e1] |
c:[c e1] |
ç:[c e0 c e0 dh i1 ll a0] |
d:[d e1] |
e:e1 |
é:[e0 acute] |
ë:[e0 umlaut] |
è:[e0 graav] |
ê:[e0 circumflex] |
f:[e1 f e0] |
g:[x e1] |
h:[a1 ch e0] |
i:i1 |
í:[i0 acute] |
ï:[i0 umlaut] |
ì:[i0 graav] |
î:[i0 circumflex] |
j:[x o1 t a0] |
k:[k a1] |
l:[e1 l e0] |
m:[e1 m e0] |
n:[e1 n e0] |
ñ:[e1 ni e0] |
o:o1 |
ó:[o0 acute] |
ö:[o0 umlaut] |
ò:[o0 graav] |
ô:[o0 circumflex] |
õ:[o0 tilda] |
p:[p e1] |
q:[k u1] |
r:[e1 rr e0] |
s:[e1 s e0] |
t:[t e1] |
u:u1 |
ú:[u0 acute] |
ü:[u0 umlaut] |
ù:[u0 graav] |
û:[u0 circumflex] |
v:[u1 bh e0] |
w:[u bh e dh o1 b l e] |
x:[e1 k i0 s] |
y:[i1 g r j e1 gh a0] |
z:[c e1 t a0]] |
%':0 ; 

define SingleLseq 
{ch}:[ch e1] | 
{ll}:[e1 ll e0] ; 

source include/norm/nlseq.foma

define TranscribeLetterSequence 
SingleLseq -> || .#. _ .#. ,, 
LetterLseq|NormalizeCharactersLseq -> || _ ;

regex TranscribeLetterSequence ; 